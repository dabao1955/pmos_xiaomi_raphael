pkgname=firmware-xiaomi-raphael
pkgver=20240117
pkgrel=0
pkgdesc="Firmware for Xiaomi Redmi K20 Pro"
arch="aarch64"
_carch="arm64"
depends="
	linux-xiaomi-raphael
	device-xiaomi-raphael
	postmarketos-base
	linux-firmware-qcom
"

url="https://github.com/dabao1955/pmos_firmware_xiaomi_raphael"
arch="aarch64"
license="proprietary"
options="!check !strip !archcheck !tracedeps pmb:cross-native"
_commit="6311492cd199ff1ed869d4511801bdebb5373d57"
source="https://github.com/dabao1955/pmos_firmware_xiaomi_raphael/archive/$_commit.tar.gz"
builddir="$srcdir/$pkgname_src"
package() {
	# parent package is empty
	mkdir -p "$pkgdir"
	install -Dm644 "$builddir"/* -t \
		"$pkgdir/lib/firmware/qcom/sm8150/Xiaomi/raphael"
	install -Dm644 "$builddir"/30-gpu-firmware.files -t \
		"$pkgdir/usr/share/mkinitfs/files/30-gpu-firmware.files"
	rm -rf "$pkgdir/lib/firmware/qcom/sm8150/Xiaomi/raphael/LICENSE"

}

sha512sums=""
